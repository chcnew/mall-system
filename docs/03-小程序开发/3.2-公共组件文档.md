# 3.2 公共组件文档

## 一、组件列表

### 1.1 商品卡片 (product-card)

**用途**: 展示商品信息

**属性**:

| 属性名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| product | Object | 是 | - | 商品对象 |
| showCart | Boolean | 否 | true | 是否显示加入购物车按钮 |

**事件**:

| 事件名 | 说明 | 返回值 |
|--------|------|--------|
| click | 点击商品 | product 对象 |
| addCart | 点击加入购物车 | product 对象 |

**使用示例**:

```html
<product-card
  product="{{product}}"
  showCart="{{true}}"
  bind:click="onProductClick"
  bind:addCart="onAddCart"
></product-card>
```

---

### 1.2 空状态 (empty)

**用途**: 空数据提示

**属性**:

| 属性名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| type | String | 否 | default | 空状态类型：default/search/cart/order |
| text | String | 否 | 暂无数据 | 提示文字 |
| actionText | String | 否 | - | 操作按钮文字 |

**事件**:

| 事件名 | 说明 |
|--------|------|
| action | 点击操作按钮 |

**使用示例**:

```html
<empty
  type="cart"
  text="购物车空空如也"
  actionText="去逛逛"
  bind:action="goShopping"
></empty>
```

---

### 1.3 加载中 (loading)

**用途**: 加载状态提示

**属性**:

| 属性名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| text | String | 否 | 加载中... | 提示文字 |

**使用示例**:

```html
<loading text="加载中..."></loading>
```

---

### 1.4 导航栏 (nav-bar)

**用途**: 自定义导航栏

**属性**:

| 属性名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| title | String | 否 | - | 标题 |
| showBack | Boolean | 否 | false | 是否显示返回按钮 |
| backgroundColor | String | 否 | #fff | 背景色 |
| color | String | 否 | #333 | 文字颜色 |

**使用示例**:

```html
<nav-bar
  title="商品详情"
  showBack="{{true}}"
  backgroundColor="#fff"
></nav-bar>
```

---

## 二、组件使用说明

### 2.1 全局注册

```javascript
// app.js
import ProductCard from './components/product-card/index'
Component('product-card', ProductCard)
```

---

### 2.2 页面使用

```json
// page.json
{
  "usingComponents": {
    "product-card": "/components/product-card/index",
    "empty": "/components/empty/index",
    "loading": "/components/loading/index"
  }
}
```

---

## 三、最佳实践

### 3.1 性能优化
- 使用 wx:if 控制组件渲染
- 避免频繁 setData
- 使用事件委托

### 3.2 样式隔离
- 使用 class 命名空间
- 避免使用标签选择器
- 使用 rpx 单位

### 3.3 事件处理
- 使用 catch:tap 阻止冒泡
- 合理使用 bindtap 和 catchtap
- 避免频繁触发事件
