# 3.4 小程序功能说明书

## 一、功能列表

### 1.1 核心功能

| 功能模块 | 功能说明 | 状态 |
|---------|---------|------|
| 用户登录 | 微信授权登录 | ✓ |
| 个人中心 | 用户信息展示 | ✓ |
| 商品浏览 | 商品列表、详情 | ✓ |
| 分类浏览 | 分类导航、筛选 | ✓ |
| 购物车 | 添加、删除、编辑 | ✓ |
| 订单管理 | 创建、查询、操作 | ✓ |
| 在线支付 | 微信支付集成 | ✓ |
| 地址管理 | 添加、编辑、删除 | ✓ |
| 优惠券 | 领取、使用 | ✓ |
| 搜索 | 商品搜索 | ✓ |
| 轮播图 | 首页轮播 | ✓ |

---

## 二、用户操作流程

### 2.1 购物流程

```
浏览商品 → 选择规格 → 加入购物车/立即购买
→ 确认订单 → 选择地址 → 使用优惠券
→ 提交订单 → 微信支付 → 支付成功
→ 查看订单 → 确认收货 → 评价（可选）
```

---

### 2.2 登录流程

```
打开小程序 → 自动检测登录状态
→ 未登录时调用 wx.login
→ 获取 code → 调用后端接口
→ 获取 Token → 存储 Token
→ 登录成功
```

---

## 三、功能说明

### 3.1 首页

**功能**:
- 轮播图展示
- 分类入口
- 热门商品推荐
- 新品上市

**操作**:
- 点击轮播图跳转到对应页面
- 点击分类进入分类页
- 点击商品进入商品详情

---

### 3.2 分类页

**功能**:
- 左侧分类导航
- 右侧商品列表
- 分类筛选

**操作**:
- 点击左侧分类切换
- 点击商品进入详情
- 下拉刷新、上拉加载更多

---

### 3.3 商品详情

**功能**:
- 商品图片轮播
- 商品信息展示
- 规格选择
- 加入购物车
- 立即购买

**操作**:
- 滑动查看商品图片
- 点击规格选择 SKU
- 点击"加入购物车"添加到购物车
- 点击"立即购买"跳转到订单确认页

---

### 3.4 购物车

**功能**:
- 商品列表展示
- 全选/单选
- 数量编辑
- 删除商品
- 清空购物车
- 结算

**操作**:
- 勾选商品
- 调整数量
- 删除商品
- 点击"去结算"跳转到订单确认页

---

### 3.5 订单确认

**功能**:
- 收货地址选择
- 商品信息展示
- 优惠券选择
- 价格明细
- 订单备注
- 提交订单

**操作**:
- 选择收货地址
- 选择优惠券
- 填写订单备注
- 点击"提交订单"创建订单

---

### 3.6 订单列表

**功能**:
- Tab 切换（全部、待付款、待发货、待收货、已完成）
- 订单列表展示
- 订单操作

**操作**:
- 切换 Tab 筛选订单
- 点击订单进入详情
- 取消订单、确认收货

---

### 3.7 订单详情

**功能**:
- 订单信息展示
- 商品信息
- 收货地址
- 价格明细
- 物流信息
- 订单操作

**操作**:
- 取消订单（待付款）
- 确认收货（待收货）
- 申请退款（可选）

---

### 3.8 地址管理

**功能**:
- 地址列表展示
- 添加地址
- 编辑地址
- 删除地址
- 设置默认地址

**操作**:
- 点击"新增地址"添加
- 点击地址编辑
- 左滑删除
- 点击"设为默认"

---

### 3.9 优惠券

**功能**:
- 可领优惠券列表
- 我的优惠券
- 优惠券状态

**操作**:
- 点击"领取"领取优惠券
- Tab 切换查看不同状态优惠券
- 下单时使用优惠券

---

### 3.10 个人中心

**功能**:
- 用户信息展示
- 订单入口
- 功能入口
- 设置入口

**操作**:
- 点击订单入口进入订单列表
- 点击功能入口进入对应页面
- 点击设置进入设置页

---

## 四、用户权限

### 4.1 未登录用户
- 可浏览商品
- 可搜索商品
- 可查看商品详情
- 不可添加到购物车
- 不可创建订单

### 4.2 登录用户
- 可使用所有功能
- 可添加到购物车
- 可创建订单
- 可使用优惠券

---

## 五、异常处理

### 5.1 网络异常
- 显示网络错误提示
- 提供重试按钮

### 5.2 支付失败
- 显示支付失败提示
- 提供重新支付按钮
- 提供查看订单状态

### 5.3 库存不足
- 显示库存不足提示
- 建议选择其他商品

### 5.4 Token 失效
- 自动重新登录
- 跳转到首页

---

## 六、更新日志

### v1.0.0 (2024-01-01)
- 初始版本发布
- 实现核心购物流程
- 实现用户管理
- 实现订单管理
- 实现支付功能

---

## 七、常见问题

### Q: 如何找回订单？
A: 进入个人中心 → 我的订单，可查看所有订单

### Q: 如何修改收货地址？
A: 进入个人中心 → 地址管理，可编辑、删除、新增地址

### Q: 如何使用优惠券？
A: 订单确认页选择可用优惠券，自动抵扣

### Q: 支付成功但订单未更新？
A: 稍后刷新订单列表，或联系客服

---

## 八、联系客服

- 客服电话: 400-888-8888
- 客服时间: 9:00 - 18:00
- 在线客服: 首页 → 联系客服
