<!--pages/index/index.wxml-->
<view class="container">
  <view wx:if="{{loading}}" style="padding: 100rpx; text-align: center;">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view wx:else>
    <!-- æœç´¢æ¡† -->
    <view class="search-bar" bindtap="goToSearch">
      <view class="search-input">
        <text style="color: #999;">ğŸ”</text>
        <text class="search-text">æœç´¢å•†å“</text>
      </view>
    </view>

    <!-- è½®æ’­å›¾ -->
    <swiper
      class="banner-swiper"
      indicator-dots="{{true}}"
      autoplay="{{true}}"
      interval="3000"
    >
      <swiper-item wx:for="{{banners}}" wx:key="id">
        <view class="banner-placeholder">è½®æ’­å›¾ {{index + 1}}</view>
      </swiper-item>
    </swiper>

    <!-- åˆ†ç±»å…¥å£ -->
    <view class="categories-section" wx:if="{{categories.length > 0}}">
      <view class="section-title">å•†å“åˆ†ç±»</view>
      <view class="categories-grid">
        <view
          class="category-item"
          wx:for="{{categories}}"
          wx:key="id"
          bindtap="onCategoryClick"
          data-id="{{item.id}}"
        >
          <view class="category-placeholder">{{item.name}}</view>
          <text class="category-name">{{item.name}}</text>
        </view>
      </view>
    </view>

    <!-- çƒ­é—¨æ¨è -->
    <view class="hot-section" wx:if="{{hotProducts.length > 0}}">
      <view class="section-title">
        <text>çƒ­é—¨æ¨è</text>
      </view>
      <view class="products-list">
        <view class="simple-product" wx:for="{{hotProducts}}" wx:key="id" bindtap="onProductClick" data-id="{{item.id}}">
          <view class="product-placeholder">å•†å“å›¾</view>
          <text class="product-name">{{item.name}}</text>
          <text class="product-price">Â¥{{item.price}}</text>
        </view>
      </view>
    </view>

    <!-- æ–°å“ä¸Šå¸‚ -->
    <view class="new-section" wx:if="{{newProducts.length > 0}}">
      <view class="section-title">
        <text>æ–°å“ä¸Šå¸‚</text>
      </view>
      <view class="products-list">
        <view class="simple-product" wx:for="{{newProducts}}" wx:key="id" bindtap="onProductClick" data-id="{{item.id}}">
          <view class="product-placeholder">å•†å“å›¾</view>
          <text class="product-name">{{item.name}}</text>
          <text class="product-price">Â¥{{item.price}}</text>
        </view>
      </view>
    </view>
  </view>
</view>